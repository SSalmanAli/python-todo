# Data Model: Next.js Frontend Todo Application

## Overview
Data models for the Next.js frontend application that consumes the FastAPI backend for todo management.

## Task Entity

### Structure
```typescript
interface Task {
  id: string;              // Unique identifier for the task
  userId: string;          // User ID to scope tasks to specific user
  title: string;           // Required task title
  description?: string;    // Optional task description
  completed: boolean;      // Boolean indicating completion status
  createdAt: Date;         // Timestamp when task was created
  updatedAt: Date;         // Timestamp when task was last updated
}
```

### Validation Rules
- `id`: Auto-generated UUID string, required, immutable
- `userId`: String representing authenticated user's ID, required, must match authenticated user
- `title`: String, required, minimum length 1 character, maximum length 255 characters
- `description`: Optional string, maximum length 1000 characters
- `completed`: Boolean, default false
- `createdAt`: ISO 8601 timestamp, auto-generated by backend
- `updatedAt`: ISO 8601 timestamp, auto-generated by backend

### Relationships
- One User to Many Tasks (one user can have multiple tasks)
- Tasks are scoped by `userId` to ensure data isolation

### State Transitions
- `completed: false` → `completed: true` (when user marks task as complete)
- `completed: true` → `completed: false` (when user unmarks task as complete)

## User Session Entity

### Structure
```typescript
interface UserSession {
  userId: string;          // User identifier from authentication
  token: string;           // JWT token for API authentication
  expiresAt: Date;         // Expiration timestamp for the token
  isAuthenticated: boolean; // Whether the user is currently authenticated
}
```

### Validation Rules
- `userId`: String from BetterAuth, required when authenticated
- `token`: JWT string, required when authenticated, must be valid
- `expiresAt`: ISO 8601 timestamp, required when authenticated
- `isAuthenticated`: Boolean indicating current auth state

### Relationships
- One User Session to Many Tasks (session enables user to interact with their tasks)

## API Request/Response Models

### Create Task Request
```typescript
interface CreateTaskRequest {
  title: string;
  description?: string;
}
```

### Update Task Request
```typescript
interface UpdateTaskRequest {
  title?: string;
  description?: string;
  completed?: boolean;
}
```

### API Response Envelope
```typescript
interface ApiResponse<T> {
  data?: T;
  error?: {
    message: string;
    code: string;
    details?: any;
  };
  success: boolean;
}
```

## Client-Side State Models

### Task List State
```typescript
interface TaskListState {
  tasks: Task[];
  loading: boolean;
  error: string | null;
  isEmpty: boolean;
}
```

### Form State
```typescript
interface TaskFormState {
  title: string;
  description: string;
  submitting: boolean;
  error: string | null;
}
```